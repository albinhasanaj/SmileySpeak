(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{6355:function(e,t,r){Promise.resolve().then(r.bind(r,3220)),Promise.resolve().then(r.bind(r,3429)),Promise.resolve().then(r.t.bind(r,5309,23)),Promise.resolve().then(r.t.bind(r,8877,23)),Promise.resolve().then(r.bind(r,8726))},9787:function(e,t,r){"use strict";var s=r(7437),n=r(6463),o=r(3429),i=r(8726);t.Z=e=>{let{text:t,redirect:r}=e,a=(0,n.useRouter)(),{setIsAuthenticated:c}=(0,o.a)(),l=async()=>{if("Log Out"==t)try{if(!(await fetch("/api/auth/logout",{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw Error("An error occurred");return i.ZP.success("Logged out"),c(!1),a.push("/")}catch(e){return i.ZP.error("An error occurred")}if(r)return a.push("home"===t.toLowerCase()?"/":"/".concat(t.toLowerCase().replace(" ","")))};return(0,s.jsx)("button",{className:"px-8 py-4 text-[16px] md:text-[20px] bg-white rounded-[5px] box-shadow hover:bg-[#F0F0F0] text-black",onClick:l,children:t})}},3220:function(e,t,r){"use strict";r.d(t,{default:function(){return x}});var s=r(7437),n=r(2265),o=r(6648),i=r(9787),a=r(6463),c=r(3429),l=r(8726),u=e=>{let{text:t}=e,r=(0,a.useRouter)(),{setIsAuthenticated:n}=(0,c.a)(),o=async()=>{if("Log Out"==t)try{if(!(await fetch("/api/auth/logout",{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw Error("An error occurred");return l.ZP.success("Logged out"),n(!1),r.push("/")}catch(e){return l.ZP.error("An error occurred")}r.push("home"===t.toLowerCase()?"/":"/".concat(t.toLowerCase().replace(" ","")))};return(0,s.jsx)("li",{onClick:o,className:"cursor-pointer",children:t})},d=r(5127),h=r(6765);let m={open:{x:0,opacity:1,transition:{type:"spring",stiffness:120,damping:20,mass:.75}},closed:{x:"100%",opacity:0,transition:{type:"spring",stiffness:120,damping:20,mass:.75}}},p=(e,t)=>t?(null==e?void 0:e.includes("/createcomment"))?["Home","Settings"]:(null==e?void 0:e.includes("/settings"))?["Home","Log Out"]:["Create Comment","Settings"]:(null==e?void 0:e.includes("/login"))?["Home","Sign Up"]:(null==e?void 0:e.includes("/signup"))?["Home","Log In"]:["Sign Up","Log In"];var x=()=>{let[e,t]=(0,n.useState)(!1),[r,l]=(0,n.useState)(!0),x=(0,a.useRouter)(),f=(0,a.usePathname)(),{isAuthenticated:g}=(0,c.a)(),v=p(f,g);return(0,s.jsxs)("nav",{className:"flex flex-col items-center mx-12 md:mx-0",children:[(0,s.jsxs)("div",{className:"hidden md:flex w-full items-center justify-around",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>x.push("/"),children:[(0,s.jsx)(o.default,{src:"/images/smileylogo.png",alt:"SmileySpeak Logo",width:64,height:64,onLoadingComplete:()=>l(!1)}),(0,s.jsx)("h2",{className:"md:text-[32px] lg:text-[48px] text-black",children:"SMILEY SPEAK"})]}),(0,s.jsx)("div",{className:"flex gap-4",children:v.map((e,t)=>(0,s.jsx)(i.Z,{text:r?"Loading...":e,redirect:!0},t))})]}),(0,s.jsxs)("div",{className:"md:hidden w-full flex flex-col items-end relative",children:[(0,s.jsx)(o.default,{src:e?"icons/cross.svg":"/icons/hamburger.svg",alt:"Hamburger Menu",width:64,height:64,onClick:()=>t(e=>!e),className:"cursor-pointer"}),(0,s.jsx)(d.M,{children:e&&(0,s.jsx)(h.E.div,{initial:"closed",animate:"open",exit:"closed",variants:m,className:"absolute top-full right-[-1.25rem] py-8 px-6 bg-[#C4C4C4] rounded-[15px] z-[99]",children:(0,s.jsx)("ul",{className:"flex flex-col gap-2",children:v.map((e,t)=>(0,s.jsx)(u,{text:e},t))})})})]})]})}},3429:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return i},a:function(){return a}});var s=r(7437),n=r(2265);let o=(0,n.createContext)(void 0),i=e=>{let{children:t}=e,[r,i]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{(async()=>{try{if(!(await fetch("/api/auth/check")).ok)throw Error("Not authenticated");i(!0)}catch(e){i(!1)}})()},[]),(0,s.jsx)(o.Provider,{value:{isAuthenticated:r,setIsAuthenticated:i},children:t})},a=()=>{let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},8877:function(){}},function(e){e.O(0,[518,726,595,755,971,23,744],function(){return e(e.s=6355)}),_N_E=e.O()}]);
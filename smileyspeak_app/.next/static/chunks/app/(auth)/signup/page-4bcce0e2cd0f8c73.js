(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[129],{9832:function(e,t,r){Promise.resolve().then(r.bind(r,1148))},1148:function(e,t,r){"use strict";r.r(t);var a=r(7437),s=r(9787),o=r(5778),n=r.n(o),l=r(7138),i=r(2265),c=r(8726),u=r(6463),d=r(3429);t.default=()=>{let{isAuthenticated:e,setIsAuthenticated:t}=(0,d.a)(),r=(0,u.useRouter)();(0,i.useEffect)(()=>{e&&r.push("/")},[e,r]);let[o,p]=(0,i.useState)({username:"",email:"",password:""}),x=e=>{p({...o,[e.target.name]:e.target.value})},h=async e=>{e.preventDefault();try{let e=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),a=await e.json();if(!e.ok)throw Error(a.message);t(!0),c.ZP.success(a.message),r.push("/")}catch(e){c.ZP.error(e.message)}};return(0,a.jsxs)("form",{onSubmit:h,className:"w-[300px] sm:w-[350px] h-auto md:w-[450px] py-8 md:py-16 lg:w-[600px] rounded-[50px] bg-[#C4C4C4] border-black border-[1px] flex flex-col items-center gap-12 justify-center",children:[(0,a.jsx)("div",{className:"size-[64px] lg:size-[128px] relative",children:(0,a.jsx)(n(),{src:"/images/smileylogo.png",alt:"SmileySpeak Logo",layout:"fill",objectFit:"cover",sizes:"100%"})}),(0,a.jsxs)("div",{className:"flex flex-col gap-8 items-center",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{htmlFor:"username",children:"Username"}),(0,a.jsx)("input",{type:"text",id:"username",name:"username",className:"md:w-[300px] lg:w-[400px] h-[35px] md:h-[50px] rounded-[5px] box-shadow focus:outline-none p-4",placeholder:"DragonSlayer",onChange:x,autoComplete:"username"})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,a.jsx)("input",{type:"email",id:"email",name:"email",className:"md:w-[300px] lg:w-[400px] h-[35px] md:h-[50px] rounded-[5px] box-shadow focus:outline-none p-4",placeholder:"dragonslayer123@gmail.com",onChange:x,autoComplete:"email"})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{htmlFor:"password",children:"Password"}),(0,a.jsx)("input",{type:"password",id:"password",name:"password",className:"md:w-[300px] lg:w-[400px] h-[35px] md:h-[50px] rounded-[5px] box-shadow focus:outline-none p-4",placeholder:"********",onChange:x,autoComplete:"current-password"})]}),(0,a.jsx)(s.Z,{text:"Sign Up"})]}),(0,a.jsx)(l.default,{href:"/login",className:"text-[16px] md:text-[24px] text-[#0400B1]",children:"Already have an account?"})]})}},9787:function(e,t,r){"use strict";var a=r(7437),s=r(6463),o=r(3429),n=r(8726);t.Z=e=>{let{text:t,redirect:r}=e,l=(0,s.useRouter)(),{setIsAuthenticated:i}=(0,o.a)(),c=async()=>{if("Log Out"==t)try{if(!(await fetch("/api/auth/logout",{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw Error("An error occurred");return n.ZP.success("Logged out"),i(!1),l.push("/")}catch(e){return n.ZP.error("An error occurred")}if(r)return l.push("home"===t.toLowerCase()?"/":"/".concat(t.toLowerCase().replace(" ","")))};return(0,a.jsx)("button",{className:"px-8 py-4 text-[16px] md:text-[20px] bg-white rounded-[5px] box-shadow hover:bg-[#F0F0F0] text-black",onClick:c,children:t})}},3429:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return n},a:function(){return l}});var a=r(7437),s=r(2265);let o=(0,s.createContext)(void 0),n=e=>{let{children:t}=e,[r,n]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{(async()=>{try{if(!(await fetch("/api/auth/check")).ok)throw Error("Not authenticated");n(!0)}catch(e){n(!1)}})()},[]),(0,a.jsx)(o.Provider,{value:{isAuthenticated:r,setIsAuthenticated:n},children:t})},l=()=>{let e=(0,s.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[726,778,291,971,23,744],function(){return e(e.s=9832)}),_N_E=e.O()}]);
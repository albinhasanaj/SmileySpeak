"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[776],{2776:function(e,a,s){s.r(a),s.d(a,{default:function(){return o}});var t=s(7437),c=s(2265),l=s(5778),r=s.n(l),i=s(8726),n=e=>{let{card_id:a,username:s,email:l,profilePic:n,comment:o,likes:x,tags:d}=e,[h,p]=c.useState(x),m=async()=>{try{let e=await fetch("/api/comments/like",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,card_id:a})}),t=await e.json();if(!e.ok)throw Error(t.message);p(t.likeCount),i.ZP.success(t.message)}catch(e){if("Not authenticated"===e.message)return i.ZP.error("Please log in to like a comment");i.ZP.error("An error occurred. Please try again.")}};return(0,t.jsxs)("div",{className:"w-[320px] flex flex-col gap-4 h-auto bg-white rounded-[5px] border-[1px] border-black py-4 px-6",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(r(),{src:n,alt:"DragonSlayer Profile Pic",width:48,height:48,className:"rounded-full"}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-[18px] font-bold",children:s}),(0,t.jsx)("a",{href:"mailto:".concat(l),className:"text-[14px] opacity-50",children:l})]})]}),(0,t.jsx)(r(),{src:"/images/copyParagraph.png",alt:"Copy Paragraph",width:24,height:24,className:"cursor-pointer w-auto h-auto object-contain",onClick:()=>{navigator.clipboard.writeText(o),i.ZP.success("Copied to clipboard")}})]}),(0,t.jsx)("div",{className:"flex flex-col gap-2",children:(0,t.jsx)("p",{className:"text-[20px] break-words",children:o})}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 mt-auto",children:[(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(r(),{src:"/images/heart.png",alt:"Like icon",width:24,height:24,className:"cursor-pointer",onClick:m}),(0,t.jsx)("span",{className:"text-[16px]",children:h})]}),(0,t.jsx)("div",{className:"flex gap-2",children:d.map(e=>0===e.length?null:(0,t.jsxs)("span",{className:"text-[16px] text-[#0400B1]",children:["#",e.replace(" ","")]},"".concat(a,"-").concat(e)))})]})]})},o=e=>{let{comments:a}=e,s=[...a].sort((e,a)=>a.like_count-e.like_count);return(0,t.jsxs)("section",{className:"flex flex-col gap-4 items-center mb-4",children:[(0,t.jsx)("div",{className:"flex gap-4",children:(0,t.jsx)("h3",{className:"text-[20px]",children:"Most Liked Comments"})}),(0,t.jsx)("div",{className:"flex flex-wrap justify-center gap-12 max-w-[1440px]",children:s.map(e=>(0,t.jsx)(n,{card_id:e.card_id,username:e.username,profilePic:e.profilePicture,email:e.email,comment:e.content,likes:e.like_count,tags:[e.hashtag1,e.hashtag2,e.hashtag3]},e.card_id))})]})}}}]);
"use strict";exports.id=432,exports.ids=[432],exports.modules={2432:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var t=a(326),l=a(7577),r=a.n(l),i=a(2053),c=a.n(i),n=a(381);let o=({card_id:e,username:s,email:a,profilePic:l,comment:i,likes:o,tags:x})=>{let[d,p]=r().useState(o),h=async()=>{try{let a=await fetch("/api/comments/like",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,card_id:e})}),t=await a.json();if(!a.ok)throw Error(t.message);p(t.likeCount),n.ZP.success(t.message)}catch(e){if("Not authenticated"===e.message)return n.ZP.error("Please log in to like a comment");n.ZP.error("An error occurred. Please try again.")}};return(0,t.jsxs)("div",{className:"w-[320px] flex flex-col gap-4 h-auto bg-white rounded-[5px] border-[1px] border-black py-4 px-6",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(c(),{src:l,alt:"DragonSlayer Profile Pic",width:48,height:48,className:"rounded-full"}),(0,t.jsxs)("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[18px] font-bold",children:s}),t.jsx("a",{href:`mailto:${a}`,className:"text-[14px] opacity-50",children:a})]})]}),t.jsx(c(),{src:"/images/copyParagraph.png",alt:"Copy Paragraph",width:24,height:24,className:"cursor-pointer w-auto h-auto object-contain",onClick:()=>{navigator.clipboard.writeText(i),n.ZP.success("Copied to clipboard")}})]}),t.jsx("div",{className:"flex flex-col gap-2",children:t.jsx("p",{className:"text-[20px] break-words",children:i})}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 mt-auto",children:[(0,t.jsxs)("div",{className:"flex gap-1",children:[t.jsx(c(),{src:"/images/heart.png",alt:"Like icon",width:24,height:24,className:"cursor-pointer",onClick:h}),t.jsx("span",{className:"text-[16px]",children:d})]}),t.jsx("div",{className:"flex gap-2",children:x.map(s=>0===s.length?null:(0,t.jsxs)("span",{className:"text-[16px] text-[#0400B1]",children:["#",s.replace(" ","")]},`${e}-${s}`))})]})]})},x=({comments:e})=>{let s=function(e,s){return"likes"===s?[...e].sort((e,s)=>s.like_count-e.like_count):e}(e,"likes");return(0,t.jsxs)("section",{className:"flex flex-col gap-4 items-center mb-4",children:[t.jsx("div",{className:"flex gap-4",children:t.jsx("h3",{className:"text-[20px]",children:"Most Liked Comments"})}),t.jsx("div",{className:"flex flex-wrap justify-center gap-12 max-w-[1440px]",children:s.map(e=>t.jsx(o,{card_id:e.card_id,username:e.username,profilePic:e.profilePicture,email:e.email,comment:e.content,likes:e.like_count,tags:[e.hashtag1,e.hashtag2,e.hashtag3]},e.card_id))})]})}}};